model Event {
  id             String        @id @default(cuid())
  title          String
  type           String
  description    String?
  image          String?       // Cloudinary
  location       String
  date           DateTime
  maxParticipants Int
  minParticipants Int?
  fee            Float         @default(0)

  status         EventStatus   @default(OPEN)

  hostId         String
  host           User          @relation("HostedEvents", fields: [hostId], references: [id])

  participants   EventParticipant[]
  reviews        Review[]
  payments       Payment[]

  createdAt      DateTime      @default(now())
  updatedAt      DateTime      @updatedAt
}



model EventParticipant {
  id        String   @id @default(cuid())
  userId    String
  eventId   String
  joinedAt  DateTime @default(now())

  user      User     @relation(fields: [userId], references: [id])
  event     Event    @relation(fields: [eventId], references: [id])

  @@unique([userId, eventId]) // Prevent same user joining twice
}